Based on [RETECS](https://bitbucket.org/HelgeS/retecs)